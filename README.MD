#The Machine Instructions Simulator (MIS)

MIS is a virtual machine that is designed to execute a set of instructions. An MIS
program is represented by a set of variable declarations and a set of instructions
that operates on the set of defined variables. A program is introduced to the MIS
in a text file with the extension `.mis` and the results are stored in 2 files; `.out`
which should include the output of a the target MIS running program, and `.err`
which should include all the parse and runtime errors generated by the MIS
virtual machine during execution.
An MIS program is built up of two sections. The first section defines all the
variables to be used throughout the program execution, and the second section
has all the instructions to be executed which builds up the program’s sequential
logic. For simplicity, all variables in an MIS program are global variables where
local variables or subroutines are not supported by the MIS virtual machine.
Every variable definition and program instruction needs to be written on a
separate line, and should not exceed 1024 characters.
The MIS specification supports 4 data types from which variables can be
declared and defined. The following table presents all the MIS variable types:

|  Name   | Description               | Size In Bytes   |
|---------|---------------------------|-----------------|
| NUMERIC | Non-Decimal numeric value | 8               |
| REAL    | Decimal numeric value     | 8               |
| CHAR    | A char                    | 1               |
| STRING  | A char array              | Ranges of 1-256 |

The following template is used to define variables in an MIS program, and 
variable names should start with $:
VAR <name>,<type>,<optional: size in case of string only>, <default value>

Examples: 

~~~~
VAR $myint,NUMERIC,100
VAR $myfloat,REAL,12.14
VAR $mychar,CHAR,’c’
VAR $mystr,STRING,100,”Hello world MIS!!!”
~~~~

The MIS specification supports 16 instructions as defined in the following table:

| Instruction        | # of Parameters      | Parameters                                                                                          | Description                                                                                                                                                                                                                            |
|--------------------|----------------------|-----------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ADD                | 3-13                 | 1:,REAL,or,Numeric,Variable Rest:,Real,or,Numeric,Variable,or Constant                              | Adds,all,parameters,excluding,the,first,one,and,store the,results,in,the,first,parameter                                                                                                                                               |
| SUB                | 3                    | 1:,REAL,or,Numeric,Variable Rest:,Real,or,Numeric,Variable,or Constant.                             | Subtract,the,third,parameter,from,the,second,parameter,and,store,the,result in,the,first,parameter.                                                                                                                                    |
| MUL                | 3-13                 | 1:,REAL,or,Numeric,Variable Rest:,Real,or,Numeric,Variable,or Constant.                             | Multiply,all,parameters,excluding,the,first,one,and,store the,results,in,the,first,parameter.                                                                                                                                          |
| DIV                | 3                    | 1:,REAL,or,Numeric,Variable Rest:,Real,or,Numeric,Variable,or Constant.                             | Divide,the,second,parameter,by,the,third,parameter,and,store,the,result in,the,first,parameter.,Note: divide,by,zero,should,be,detected,and,reported,,and,the,program,should,tolerate,crashes,resulting,from,divide-by-zero,exceptions |
| ASSIGN             | 2                    | 1:,Any,Variable. 2:,Variable,or,constant,of,the,same,type as,parameter,1.                           | Store,the,second,parameter,into,the,first parameter.                                                                                                                                                                                   |
| OUT                | 1-12                 | Any,variables,or,constants                                                                          | Prints,out,the,parameters,to,the,standard,output.                                                                                                                                                                                      |
| SET_STR_CHAR       | 3                    | 1:,String,variable2.,Variable,or,constant,representing,an,index 3:,A,variable,or,constant,character | Set,a,string,character,at,specific,index,to,a,character.,Note: index range,should,be,checked,and,errors,should,be,reported                                                                                                             |
| GET_STR_CHAR       | 3                    | 1:,String,variable 2.,Variable,or,constant,representing,an,index. 3:,A,variable,character           | Store,the,character,at,the,index,equivalent,to,parameter,2,into,the,third,parameters.                                                                                                                                                  |
| LABEL              | 1                    | 1:,Inline,Label.                                                                                    | Sets,a,placeholder,that,a,JMP,instruction,can,go,to.                                                                                                                                                                                   |
| JMP                | 1                    | 1:,Label,name,to,jump,to.                                                                           | Change,execution,sequence,by,setting,the,execution,pointer,to,the,first,instruction,after,the,label                                                                                                                                    |
| JMP(Z/NZ)          | 2                    | 1:,Label,name,to,jump,to. 2:,A,numeric,variable,or,constant.                                        | Apply,the,logic,of,JMP,based,on,the,condition,result. Z:,second,parameter,is,zero NZ:,second,parameter,is,not,zero                                                                                                                     |
| JMP(GT/LT/GTE/LTE) | 3                    | 1:,Label,name,to,jump,to. 2:,A,numeric,variable,or,constant. 3:,A,numeric,variable,or,constant.     | Apply,the,logic,of,JMP,based,on,the,comparison,condition,result,between,the,seconds,and,the,third,parameters. GT:,P2,>,P3 LT:,P2<,P3 GTE:,P2,>=,P3 LTE:,P2<=,P3                                                                        |
| SLEEP              | 1                    | 1:,A,numeric,variable,or,constant.                                                                  | Suspend,execution for,a,number,of,seconds                                                                                                                                                                                              |

Note: in the above table “numeric” means NUMERIC or REAL.


Parameters of an instruction are separated by commas, and it is very important 
to highlight that type checking should be performed for all instruction types.


The following are examples of instructions:
~~~~
ADD $myint,100,20.7,300,$myint1
MUL $myint,100,20.7,300,$myint1
SUB $myint,100,$myint2
DIV $myfloat,100,$myint2
ASSIGN $myint,$myint1
ASSIGN $mystr1,$mystr2
ASSIGN $mystr1,”This is a test string”
SET_STR_CHAR $mystr1,21,’\n’
LABEL LAB1
JMP LAB1
JMPZ LAB1,$myint
JMPGTE LAB1,$myint1,$myint2
SLEEP 100
SLEEP $myint
~~~~

